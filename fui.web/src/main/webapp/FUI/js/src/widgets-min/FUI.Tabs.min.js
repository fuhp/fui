(function($){$.registerWidgetEvent("");$.widget("FUI.FTabs",{options:{id:null,tabWidth:"auto",tabsHeaderCls:"f-tabs-normal-tab",tabHeight:25,active:0,width:"",height:"auto",onBeforeActive:null,onActive:null,onTabDblClick:null,onTabbarRClick:null,scrollGap:25,onBeforeClose:null,onClose:null,onBeforeCloseAllOthers:null,onCloseAllOthers:null,onBeforeAdd:null,onAdd:null,onLoadComplete:null,fit:false,_changeHash:1,_objCurrentTabEl:null,_currentTabId:null,_ScrollfirstTimeShow:true},_create:function(){var op=this.options;op._tabsHeadMapping=$Utils.IndexMap();op._tabsBodyMapping=$Utils.IndexMap();op._tabsBodyStatusMapping=$Utils.IndexMap();var selfEl=this.element;var ID=selfEl.attr("id");op.id=ID;op._objheaderEl=selfEl.children(".f-tabs-header:first");op["_objbody-wrapperEl"]=selfEl.children(".f-tabs-body-wrapper:first");op._objbodyEl=selfEl.children(".f-tabs-body-wrapper .f-tabs-body:first");op["_objscroll-leftEl"]=op._objheaderEl.children(".f-tabs-scroller-left-wrapper:first").children(".f-tabs-scroll-left");op["_objheader-ctlEl"]=op._objheaderEl.children(".f-tabs-header-ctl:first");op["_objtabmenu-rightEl"]=op._objheaderEl.children(".f-tabs-scroller-right-wrapper:first").children(".f-tabs-tabmenu-right");op["_objscroll-rightEl"]=op._objheaderEl.children(".f-tabs-scroller-right-wrapper").children(".f-tabs-scroll-right");this._bindEvent()},_init:function(){var self=this;var op=self.options;self._calculateIndex();op.tabHeight=self._getElement("header").outerHeight(true);if(op.fit=="true"||op.fit===true){var parentEl=self.element.parent();self.setSize(parentEl.innerWidth(),parentEl.innerHeight())}else{self.setSize(op.width,op.height)}if(!self.activate(op.active,true)){self.activate(0,true)}},_bindEvent:function(){var op=this.options;var self=this;self._getHeaderItemsEl().each(function(index,element){self._bindTabHeadEvent($(element))});self._getElement("scroll-left",self._getElement("header")).mousedown(function(){var el=$(this);if(op._isScrollShow&&!el.hasClass("f-tabs-scroll-disabled")){self._tryScrollLeft()}});self._getElement("scroll-right",self._getElement("header")).mousedown(function(){var el=$(this);if(op._isScrollShow&&!el.hasClass("f-tabs-scroll-disabled")){self._tryScrollRight()}});self._getElement("tabmenu-right",self._getElement("header")).click(function(){self._tryShowItemsMenu()});if(op.onTabbarRClick){self._getElement("header").mousedown(function(e){if(3==e.which){self._tryExcuteFunc(self,op.onTabbarRClick,[e]);return false}})}},_bindTabHeadEvent:function(el){var self=this;var op=self.options;el.mousedown(function(){var href=$(this).children("a").attr("href");var tabId=href.substring(href.lastIndexOf("#")+1);if(op._currentTabId==tabId){return}self.activate(tabId);return});if(op.onTabDblClick){el.dblclick(function(){var hid=$(this).attr("id");var index=op._tabsHeadMapping.indexOf(hid);var id=op._tabsBodyMapping.get(index);self._tryExcuteFunc(self,op.onTabDblClick,[index,id])})}if(el.hasClass("f-tab-closable")){var closeBnt=el.children().children(".f-tab-close-bnt:first");closeBnt.click(function(e){e.stopPropagation();self._closeTabByEl($(this).parent().parent());return false})}},_tryScrollLeft:function(){var op=this.options;var self=this;var ctlBox=self._calElementBox("header-ctl");var innerBox=self._calHeaderItemsBox();var realScrollGap=0;if(innerBox.left+op.scrollGap>ctlBox.left){realScrollGap=ctlBox.left-innerBox.left}else{realScrollGap=op.scrollGap}var ulEl=self._getElement("header-ctl",self._getElement("header")).children();ulEl.css("margin-left",(parseInt(ulEl.css("margin-left"))+realScrollGap)+"px");self._adjustTabScroller()},_tryScrollRight:function(){var op=this.options;var self=this;var ctlBox=self._calElementBox("header-ctl");var innerBox=self._calHeaderItemsBox();var realScrollGap=0;if(innerBox.right-op.scrollGap<ctlBox.right){realScrollGap=innerBox.right-ctlBox.right}else{realScrollGap=op.scrollGap}var ulEl=self._getElement("header-ctl",self._getElement("header")).children();ulEl.css("margin-left",(parseInt(ulEl.css("margin-left"))-realScrollGap)+"px");self._adjustTabScroller()},_tryShowItemsMenu:function(){var self=this;var op=this.options;var tabsMenuEl=self._getGlobalElement("scroll-menuEl");if(tabsMenuEl.length==0){var menuId=op.id+"-scroll-menuEl";var html="	    			<ul id='"+menuId+"' style='display:none;' class='f-menu f-menu-icons f-widget'></ul>";$("body").append(html);tabsMenuEl=$("#"+menuId).FMenu({attach:self._getElement("tabmenu-right"),offset:{top:4},onClick:function(item){var tabId=item.url;if(tabId){self.activate(tabId)}}})}if(!op._itemsMenuData){tabsMenuEl.FMenu("setStaticData",self._genItemsMenuData());op._itemsMenuData=[{data:""}]}tabsMenuEl.FMenu("show")},_genItemsMenuData:function(){var self=this;var op=this.options;var mapping=op._tabsHeadMapping;var bodyMapping=op._tabsBodyMapping;var items=mapping.elements;var bodyItems=bodyMapping.elements;var size=items.length;var GAP=10;var groups=[];for(var i=0;i<size;){var data=[];for(var j=0;(j<GAP)&&(i<size);j++,i++){var text=$(".f-tabs-strip-text:first",items[i].value).html();data.push({text:text,url:bodyItems[i].key,title:text})}groups.push(data)}if(groups.length==1){return groups[0]}var data=[];size=groups.length;for(var i=0;i<size;i++){var subGroup=groups[i];var text="items <span style='color:blue;'>"+(GAP*i+1)+" - "+(GAP*i+subGroup.length)+"</span>";data.push({text:text,children:subGroup,url:subGroup[0].url})}return data},_tryExcuteFunc:function(obj,func,args){var EMPTY_FUNC=function(){};var f=func||EMPTY_FUNC;if(!$.isFunction(func)){try{f=eval(func);if(!$.isFunction(f)){return}}catch(e){return}}args=args||[];return f.apply(obj,args)},add:function(op,pos,active){if(!op){return}var self=this;var opts=self.options;if(opts.onBeforeAdd){if(self._tryExcuteFunc(self,opts.onBeforeAdd,[op,pos,active])===false){return false}}pos=op.pos||pos;active=op.active||active;var id=$Utils.genId("f-tabs-item");var bodyId=op.id||$Utils.genId("f-tabs-body-item");var closable=(op.closable===true);var title=op.title||id;var width=parseInt(op.width||opts.tabWidth);if(!isNaN(width)){width=width+"px"}else{width="auto"}var aStyle="";if(width=="auto"){aStyle="f-tabs-right-ie6"}var tabHeightCls=op.tabsHeaderCls||opts.tabsHeaderCls||"f-tabs-normal-tab";var iconCls=op.iconCls;var closeIconHtml="";if(closable){closeIconHtml="<span class='f-tab-close-bnt'>&nbsp;</span>"}var genTabHeadHtml=function(){var template="			    	<div class='f-tabs-head-item{1}' id='{0}'>						<a class='f-tabs-right {8}' href='#{6}' onclick='return false;' title='{2}'>							{3}							<em class='f-tabs-left'>								<span class='f-tabs-strip-inner {7}'>									<span class='f-tabs-strip-text' style='width:{4};line-height:normal'>{2}</span>								</span>							</em>						</a>					</div>";var html=$Utils.format(template,id,closable?" f-tab-closable":"",title,closeIconHtml,width,0,bodyId,tabHeightCls,aStyle);return html};var url=op.url;var iframe=(op.iframe==="false")?false:true;var iframeName=op.iframeName||$Utils.genId("tabs-iframe-name");var content=url?"":op.content;var genTabBodyHtml=function(){var template="			    	<div id='{0}' class='f-panel'>						<div class='f-panel-wrapper'>							<div id='{0}-panel-body' class='f-panel-body'>							{1}							</div>						</div>					</div>";var html=$Utils.format(template,bodyId,content);return html};var itemsMapping=opts._tabsHeadMapping;var bodyItemsMapping=opts._tabsBodyMapping;var bodyItemsStateMapping=opts._tabsBodyStatusMapping;var headerBoxEl=self._getElement("header-ctl").children();var bodyBoxEl=self._getElement("body");var pos=parseInt(pos);if(!isNaN(pos)){var size=itemsMapping.size();pos=(pos<size&&pos>=0)?pos:(size-1);var curHeaderEl=itemsMapping.element(pos).value;var curBodyEl=bodyItemsMapping.element(pos).value;curHeaderEl.before(genTabHeadHtml());curBodyEl.before(genTabBodyHtml());itemsMapping.insert(pos,id,$("#"+id));bodyItemsMapping.insert(pos,bodyId,$("#"+bodyId));bodyItemsStateMapping.insert(pos,{url:url,iframe:iframe,iframeName:iframeName})}else{var edgeEl=self._getElement("items-edge");edgeEl.before(genTabHeadHtml());bodyBoxEl.append(genTabBodyHtml());itemsMapping.put(id,$("#"+id));bodyItemsMapping.put(bodyId,$("#"+bodyId));bodyItemsStateMapping.put(bodyId,{url:url,iframe:iframe,iframeName:iframeName});pos=itemsMapping.size()-1}$("#"+bodyId+"-panel-body").css({width:self._getElement("body-wrapper").width()-2,height:self._getElement("body-wrapper").height()-1});self._bindTabHeadEvent($("#"+id));if(active===true){self.activate(pos);if(!opts._isScrollShow){self._adjustTabScroller()}}else{self._adjustTabScroller()}!opts.onAdd||self._tryExcuteFunc(self,opts.onAdd,[pos,bodyId]);opts._itemsMenuData=null},closeTab:function(index){var op=this.options;if(isNaN(index)){index=op._tabsBodyMapping.indexOf(op._currentTabId)}var el=op._tabsHeadMapping.element(index).value;return this._closeTabByEl(el)},_closeTabByEl:function(itemEl){var op=this.options;var self=this;var id=itemEl.attr("id");var itemsMapping=op._tabsHeadMapping;var bodyItemsMapping=op._tabsBodyMapping;var bodyItemsStatuesMapping=op._tabsBodyStatusMapping;var size=itemsMapping.size();if(size<=1){return}var index=itemsMapping.indexOf(id);var bodyItemEl=bodyItemsMapping.element(index).value;var bodyId=bodyItemsMapping.element(index).key;if(op.onBeforeClose){if(self._tryExcuteFunc(self,op.onBeforeClose,[index,bodyId])===false){return false}}itemsMapping.removeByIndex(index);bodyItemsMapping.removeByIndex(index);bodyItemsStatuesMapping.removeByIndex(index);itemEl.remove();self._clearTabBody(bodyItemEl);bodyItemEl.remove();var activeIndex=index;if(activeIndex>=size-1){activeIndex=size-2}self.activate(activeIndex);!op.onClose||self._tryExcuteFunc(self,op.onClose,[index,bodyId]);op._itemsMenuData=null},closeOthers:function(index){var self=this;var op=self.options;var itemsMapping=op._tabsHeadMapping;var size=itemsMapping.size();if(size<=1){return}var bodyItemsMapping=op._tabsBodyMapping;var bodyItemsStatuesMapping=op._tabsBodyStatusMapping;var cacheScrollShow=op._isScrollShow;op._isScrollShow=false;self.activate(index);op._isScrollShow=cacheScrollShow;var bodyId=op._currentTabId;index=bodyItemsMapping.indexOf(bodyId);var headerElement=itemsMapping.element(index);var bodyElement=bodyItemsMapping.element(index);var bodyStatusElement=bodyItemsStatuesMapping.element(index);if(op.onBeforeCloseAllOthers){if(self._tryExcuteFunc(self,op.onBeforeCloseAllOthers,[index,bodyId])===false){return false}}for(var i=0;i<size;i++){if(i==index){continue}var bodyElement=bodyItemsMapping.element(i);var bodyId=bodyElement.key;var bodyEl=bodyElement.value;if(op.onBeforeClose){if(self._tryExcuteFunc(self,op.onBeforeClose,[i,bodyId])===false){continue}}itemsMapping.element(i).value.remove();bodyEl.remove();!op.onClose||self._tryExcuteFunc(self,op.onClose,[i,bodyId])}if(op._isScrollShow){self._adjustTabScroller()}itemsMapping.clear();itemsMapping.elements.push(headerElement);bodyItemsMapping.clear();bodyItemsMapping.elements.push(bodyElement);bodyItemsStatuesMapping.clear();bodyItemsStatuesMapping.elements.push(bodyStatusElement);!op.onCloseAllOthers||self._tryExcuteFunc(self,op.onCloseAllOthers,[0,bodyId]);op._itemsMenuData=null},_calculateIndex:function(){var op=this.options;var self=this;op._tabsHeadMapping.clear();op._tabsBodyMapping.clear();op._tabsBodyStatusMapping.clear();self._getBodyItemsEl().each(function(index,element){var curEl=$(element);var id=curEl.attr("id");var url=curEl.attr("url");var iframe=(curEl.attr("iframe")==="false")?false:true;var name=curEl.attr("iframeName")||$Utils.genId("tabs-iframe-name");op._tabsBodyMapping.put(id,curEl);op._tabsBodyStatusMapping.put(id,{url:url,iframe:iframe,iframeName:name});curEl.removeAttr("iframe").removeAttr("url").removeAttr("iframeName")});self._getHeaderItemsEl().each(function(index,element){var curEl=$(element);op._tabsHeadMapping.put(curEl.attr("id"),curEl)})},destroy:function(){var op=this.options;this._clearAllBody();op._tabsHeadMapping.destroy();op._tabsHeadMapping=null;op._tabsBodyMapping.destroy();op._tabsBodyMapping=null;op._tabsBodyStatusMapping.destroy();op._tabsBodyStatusMapping=null;for(var n in op){op[n]=undefined}$.Widget.prototype.destroy.call(this)},_clearAllBody:function(){var bodyMapping=op._tabsBodyMapping;var size=bodyMapping.size();for(var i=0;i<size;i++){this._clearTabBody(bodyMapping.element(i).value)}},_clearTabBody:function(el){el.find("iframe").each(function(){var id=$(this).attr("id");$Utils.destroyIframe(id)})},activate:function(tab,init){if(tab===null){return false}var self=this;var op=this.options;var headerEl=self._getElement("header");var bodyEl=self._getElement("body");var tabId=null;var tabIndex=parseInt(tab);var headerTabEl=null;if(!isNaN(tabIndex)){tabId=self.getAlter(tabIndex);if(tabId==null){return false}}else{tabId=tab;tabIndex=self.getAlter(""+tabId);if(tabIndex==-1){return false}}if(op._currentTabId==tabId){return false}if(op.onBeforeActive){var result=self._tryExcuteFunc(self,op.onBeforeActive,[tabIndex,tabId]);if(result===false){return false}}var resetPrevTab=function(){var preTabId=op._currentTabId;var prevTabIndex=self.getAlter(""+preTabId);if(!preTabId||(!prevTabIndex&&prevTabIndex!==0)||prevTabIndex<0){return}var preTabHeaderEl=op._tabsHeadMapping.element(prevTabIndex).value;var preTabBodyEl=op._tabsBodyMapping.element(prevTabIndex).value;preTabHeaderEl.removeClass("f-tabs-active")};resetPrevTab();var tabEl=op._tabsBodyMapping.element(tabIndex).value;var headerTabEl=op._tabsHeadMapping.element(tabIndex).value;headerTabEl.removeClass("f-tabs-over").addClass("f-tabs-active");self._adjustTabInSight(headerTabEl,tabIndex);var poffset=self._getElement("body-wrapper").offset();var coffset=tabEl.offset();self._getElement("body").stop().animate({marginTop:"-="+(coffset.top-poffset.top)},0);op._objCurrentTabEl=tabEl;op._currentTabId=tabId;if(init!==true){if(op._isScrollShow){self._adjustTabScroller()}}var tabStatus=op._tabsBodyStatusMapping.element(tabIndex).value||{};if(tabStatus.url&&tabStatus.loaded!==true){self.reload(tabIndex)}!op.onActive||self._tryExcuteFunc(self,op.onActive,[tabIndex,tabId]);return true},reload:function(index,url,iframe){var op=this.options;var self=this;var tabStatus=op._tabsBodyStatusMapping.element(index).value||{};if(url){tabStatus.url=url}if(!tabStatus.url){return false}if(iframe==="false"||iframe===false){tabStatus.iframe=false}else{if(iframe=="true"||iframe===true){tabStatus.iframe=true}}tabStatus.loaded=false;var pageUrl=tabStatus.url;if(pageUrl.indexOf("://")===0&&pageUrl.indexOf("/")!==0){pageUrl=$Utils.getContextPath()+"/"+pageUrl}var element=op._tabsBodyMapping.element(index);var bodyEl=element.value.children(":first").children(".f-panel-body");if(tabStatus.iframe){if(bodyEl.children("iframe").length!=0){bodyEl.children("iframe").attr("src",pageUrl)}else{self._clearTabBody(element.value);var html=self._getIframeHtml(element.key,tabStatus.iframeName,pageUrl);bodyEl.html(html);bodyEl.children("iframe").css({height:bodyEl.height(),width:bodyEl.width()});bodyEl.css({overflow:"hidden"})}tabStatus.loaded=true}else{$.ajax({context:self,dataType:"html",url:pageUrl,success:function(contentHtml){bodyEl.html(contentHtml);tabStatus.loaded=true;!op.onLoadComplete||self._tryExcuteFunc(self,op.onLoadComplete,[index,element.key])}})}return true},setTitle:function(n,text){if(n===null){return}var self=this;var index;if(!isNaN(n)){index=n}else{index=self.getAlter(n)}var op=self.options;var headerEl=op._tabsHeadMapping.element(index).value;if(headerEl){$(".f-tabs-strip-text",headerEl).html(text||" ")}},_getIframeHtml:function(id,name,pageUrl){var style="style=";if(this.options.fit==="true"||this.options.fit===true){style+="'overflow:hidden;'"}else{style+="'overflow:auto;'"}var htmlArr=[];htmlArr.push('<iframe id="'+id+'-iframe" name="'+name+'" '+style);htmlArr.push(' class="f-win-iframe f-panel-body-content"  frameborder="0" src="');htmlArr.push(pageUrl);htmlArr.push('"></iframe>');return htmlArr.join("")},_adjustTabInSight:function(el,index){var offset=0;var self=this;var ulEl=self._getElement("header-ctl",self._getElement("header")).children();if(index!=0){var offset=self._calTabOffset(el);ulEl.css("margin-left",(parseInt(ulEl.css("margin-left"))+offset)+"px")}else{ulEl.css("margin-left","0px")}},_adjustTabScroller:function(){var op=this.options;var self=this;var isScrollShow=op._isScrollShow;var leftScrollEl=self._getElement("scroll-left",self._getElement("header"));var rightScrollEl=self._getElement("scroll-right",self._getElement("header"));var menuScrollEl=self._getElement("tabmenu-right",self._getElement("header"));var headerCtlEl=self._getElement("header-ctl",self._getElement("header"));var headerBox=self._calHeaderBox();var innerBox=self._calHeaderItemsBox();var headerWidth=headerBox.right-headerBox.left;var innerBoxWidth=innerBox.right-innerBox.left;if(headerWidth>innerBoxWidth){if(isScrollShow===true){leftScrollEl.parent().css("display","none");rightScrollEl.parent().css("display","none");menuScrollEl.parent().css("display","none");headerCtlEl.css("width","100%");self._adjustTabInSight(null,0);op._isScrollShow=false}}else{if(op._ScrollfirstTimeShow===true){var scrollBntHeight=self._getElement("header-ctl").height()-4;self._getElement("scroll-left").height(scrollBntHeight);self._getElement("tabmenu-right").height(scrollBntHeight);self._getElement("scroll-right").height(scrollBntHeight);op._ScrollfirstTimeShow=false}if(isScrollShow===true){var realWidth=self.element.width()-2;headerCtlEl.css("width",(realWidth-18*3)+"px")}else{headerCtlEl.css("width",(self._getElement("header").width()-18*3)+"px");leftScrollEl.parent().css("display","block");rightScrollEl.parent().css("display","block");menuScrollEl.parent().css("display","block");op._isScrollShow=true;innerBox.left=innerBox.left+18;innerBox.right=innerBox.right+18}var ctlBox=self._calElementBox("header-ctl");if(ctlBox.left>innerBox.left){leftScrollEl.removeClass("f-tabs-scroll-disabled")}else{leftScrollEl.addClass("f-tabs-scroll-disabled")}if(ctlBox.right<innerBox.right){rightScrollEl.removeClass("f-tabs-scroll-disabled")}else{rightScrollEl.addClass("f-tabs-scroll-disabled")}}},_doLayout:function(){var op=this.options;var tabEl=op._objCurrentTabEl;if(tabEl!=null&&tabEl.size()>0){var changedHash=tabEl.data("changedHash");if(changedHash!=null){if(parseInt(changedHash)==op._changeHash){return}}var childEl=null;var id=tabEl.attr("id");var panelBodyEl=$I(id+"-panel-body");var bodyContentEl=panelBodyEl.children(".f-panel-body-content");var bodyContentCount=bodyContentEl.size();var width=parseInt(op.width);if(!isNaN(width)){panelBodyEl.width(width-2);if(bodyContentCount===1){bodyContentEl.width(width-2)}}var height=parseInt(op.height);if(!isNaN(height)){var gaps=parseFloat(op.tabHeight)+1;var realSize=height-gaps;panelBodyEl.height(realSize);if(bodyContentCount===1){var otherHeight=0;bodyContentEl.siblings(":visible").each(function(){otherHeight+=$(this).outerHeight(true)});realSize=(realSize-otherHeight)<0?0:(realSize-otherHeight);bodyContentEl.height(realSize)}}if(bodyContentCount==1){bodyContentEl.triggerHandler("onResize")}else{panelBodyEl.triggerHandler("onResize")}tabEl.data("changedHash",op._changeHash)}},setSize:function(w,h){var op=this.options;var self=this;var sizeChanged=false;if(w!=null){op.width=w;sizeChanged=true;var width=parseInt(w);if(!isNaN(width)){self.element.width(width)}}if(h!=null&&!isNaN(parseFloat(h))){op.height=parseFloat(h);sizeChanged=true;self._getElement("body-wrapper").css({height:op.height-(op.tabHeight)});var wrapperWidth=self._getElement("body-wrapper").width();self._getElement("body").children(".f-panel").each(function(){var el=$(this);var id=el.attr("id");$("#"+id+"-panel-body,#"+id+"-iframe",el).each(function(){$(this).css({width:wrapperWidth-2,height:op.height-op.tabHeight-1})})})}if(sizeChanged){op._changeHash++}self._adjustTabScroller()},getActivated:function(){var op=this.options;var currentEl=op._objCurrentTabEl;if(currentEl!=null){return currentEl.attr("id")}return null},getTabsCount:function(){return(this.options._tabsBodyMapping.size())},getAlter:function(id){var result=null;var op=this.options;if(id!=null){if($Utils.isNumber(id)){var element=op._tabsBodyMapping.element(id);if(element!=null){result=element.key}}else{result=op._tabsBodyMapping.indexOf(id)}}return result},_getHeaderItemsEl:function(){return this._getElement("header-ctl").children().children(".f-tabs-head-item")},_getBodyItemsEl:function(){return this._getElement("body").children("div.f-panel")},_calHeaderBox:function(){return this._calElementBox("header")},_calElementBox:function(name){var el=this._getElement(name);var width=el.width();var offset=el.offset();return{left:offset.left,right:offset.left+width}},_calHeaderItemsBox:function(){var op=this.options;var mapping=op._tabsHeadMapping;if(mapping.size()==0){return}var firstOffset=op._tabsHeadMapping.element(0).value.offset();var lastOffset=this._getElement("items-edge",this._getElement("header")).offset();return{left:firstOffset.left-2,right:lastOffset.left+2}},_calTabOffset:function(el){function calElBox(el){var width=el.outerWidth(true);var offset=el.offset();return{left:offset.left-2,right:offset.left+width}}var self=this;var op=self.options;var ctlBox=self._calElementBox("header-ctl");var elBox=calElBox(el);var offset=0;var ulEl=self._getElement("header-ctl").children();if(ctlBox.left>elBox.left){offset=ctlBox.left-elBox.left}else{if(ctlBox.right<elBox.right){offset=ctlBox.right-elBox.right}}return offset},_getElement:function(name,parent){var op=this.options;var el=op["_obj"+name+"El"];if(el&&el.length>0){return el}else{el=op["_obj"+name+"El"]=$("#"+op.id+"-"+name+":first",(parent||this.element))}return el},_getGlobalElement:function(name){var op=this.options;var el=op["_gobj"+name+"El"];if(el&&el.length>0){return el}else{el=op["_gobj"+name+"El"]=$("body").children("#"+op.id+"-"+name+":first")}return el}})})(jQuery);