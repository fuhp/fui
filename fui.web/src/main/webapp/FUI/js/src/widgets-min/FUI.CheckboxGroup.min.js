(function(a){a.widget("FUI.FCheckboxGroup",{options:{seperator:",",defaultValue:"",_objBox:null},_create:function(){this.options.id=this.element.attr("id");this.options._objBox=null},_init:function(){this.options._objBox=null;this._bindEvent();if(this.options.defaultValue){this.reset()}if(this.options.readonly===true){this.readonly(true)}if(this.options.disabled===true){this.disabled(true)}},_bindEvent:function(){var b=this;a(":checkbox[value]",this._getBoxEl()).click(function(){if(b.readonly()||b.disabled()){return false}b._triggerValueChange()})},_getBoxEl:function(){var c=this.element;var b=this.options;if(b._objBox==null){if(c.is("input")){b._objBox=c.parent()}else{b._objBox=c}}return b._objBox},_triggerValueChange:function(){var b=[];a(":checkbox[value]:checked",this._getBoxEl()).each(function(){var d=a(this);if(!d.attr("disabled")){b.push(a(this).val())}});var c=this.options.seperator||",";a("input[name]",this._getBoxEl()).val(b.join(c))},value:function(b,d){if(b||b==""){var c=this.options.seperator||",";var e=b;if($Utils.isString(b)){e=b.split(c)}if($Utils.isArray(e)){this._setValueByArray(e);if(d!==true){this.element.trigger("onValueChanged")}}}return a("input[name]",this._getBoxEl()).val()},setValue:function(b,c){return this.value(b,c)},getValue:function(){return this.value(v)},disabled:function(c){var b=this._getBoxEl();if(arguments.length!=0){c=(c===true);if(c){b.addClass("f-state-disabled")}else{b.removeClass("f-state-disabled")}a(":checkbox[value],input[name]",b).attr("disabled",c)}return b.hasClass("f-state-disabled")},setDisabled:function(b){return this.disabled(b)},isDisabled:function(){return this.disabled()},readonly:function(c){var b=this._getBoxEl();if(arguments.length!=0){c=(c===true);if(c){b.addClass("f-state-readonly")}else{b.removeClass("f-state-readonly")}a(":checkbox[value],input[name]",this.boxEl).attr("readonly",c)}return b.hasClass("f-state-readonly")},setReadonly:function(b){return this.readonly(b)},isReadonly:function(){return this.readonly()},reset:function(){var b=this.options.defaultValue||"";this.value(b)},name:function(c){var b=a("input[name]",this._getBoxEl());if(c||c==""){b.attr("name",c)}return b.attr("name")},_setValueByArray:function(b){a(":checkbox[value]",this._getBoxEl()).each(function(){var c=a(this);var d=c.val();if(a.inArray(c.val(),b)>=0){c.attr("checked",true)}else{c.attr("checked",false)}});this._triggerValueChange()},destroy:function(){a(":checkbox[value]",this._getBoxEl()).unbind();this.options._objBox=null}})})(jQuery);